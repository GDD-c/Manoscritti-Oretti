<!DOCTYPE html>

<html lang="it">
<head>
<meta charset="utf-8"/>
<title>Mappa delle Collezioni – Oretti</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
<!-- Leaflet CSS -->
<link href="https://unpkg.com/leaflet/dist/leaflet.css" rel="stylesheet"/>
<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,700;1,400&amp;family=Playfair+Display:wght@400;600;700&amp;display=swap" rel="stylesheet"/>
<!-- CSS personalizzati -->
<link href="css/style-base.css" rel="stylesheet">
<link href="css/map.css" rel="stylesheet"/>
<style>
    body {
      background-color: #f8f1e4;
      font-family: 'Georgia', serif;
      color: #222;
    }

    h1, h2 {
      font-family: 'Playfair Display', serif;
      color: #3e2d18;
    }

    p {
      font-family: 'Crimson Text', serif;
      color: #5c3d1e;
    }

    #map {
      height: 75vh;
      margin-bottom: 3rem;
    }

    footer {
      background-color: #f2f0eb;
      color: #333;
      text-align: center;
      padding: 2rem 0;
      font-size: 0.9rem;
    }

    .navbar {
      background-color: #e2d8c3;
    }
  </style>
</link><link href="css/style-breadcrumb.css" rel="stylesheet"/></head>
<body>
<header class="py-4 bg-white border-bottom"><div class="container"><nav class="breadcrumb mb-3"><a href="index.html">Home</a> › Mappa</nav><h1 class="display-6">Mappa</h1></div></header><nav class="navbar navbar-expand-lg navbar-light border-bottom">
<div class="container">
<a class="navbar-brand fw-bold" href="index.html">Oretti Manoscritti</a>
<button class="navbar-toggler" data-bs-target="#navbarNav" data-bs-toggle="collapse" type="button">
<span class="navbar-toggler-icon"></span>
</button>
<div class="collapse navbar-collapse" id="navbarNav">
<ul class="navbar-nav ms-auto">
<li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
<li class="nav-item"><a class="nav-link" href="catalog.html">Catalogo</a></li>
<li class="nav-item"><a class="nav-link" href="autori.html">Autori</a></li>
<li class="nav-item"><a class="nav-link" href="item-manoscritti.html">Manoscritti</a></li>
<li class="nav-item"><a class="nav-link" href="map.html">Mappa</a></li>
<li class="nav-item"><a class="nav-link" href="browse.html">Ricerca</a></li>
</ul>
</div>
</div>
</nav>
<header class="py-4 bg-white border-bottom"><div class="container"><h1 class="display-6">Mappa</h1></div></header>
<!-- Navbar -->
<!-- Header -->
<header class="text-center py-4 bg-white border-bottom">
<div class="container">
<h1 class="h3 mb-2">Mappa delle Collezioni</h1>
<p class="mb-0">Luoghi citati nei manoscritti di Marcello Oretti</p>
</div>
</header>
<!-- Mappa -->
<div class="container">
<div id="map"></div>
</div>
<!-- Footer -->
<section class="py-4"><div class="container"><div id="oretti-map" style="height:500px;"></div></div></section><footer class="py-4 text-center border-top">
<div class="container">
<p class="mb-0 small">© 2025 - Collezioni d’Arte a Bologna nel XVIII secolo</p>
</div>
</footer>
<!-- JS -->
<script defer="" src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script defer="" src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script defer="" src="js/map.js"></script>
<script>
document.addEventListener('DOMContentLoaded', async () => {
  const map = L.map('oretti-map').setView([44.4949, 11.3426], 13);
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 19,
    attribution: '© OpenStreetMap contributors'
  }).addTo(map);

  try {
    const res = await fetch('data/luoghi.geojson', {cache:'no-store'});
    const gj = await res.json();
    const layer = L.geoJSON(gj, {
      onEachFeature: (feature, layer) => {
        const p = feature.properties || {};
        layer.bindPopup(`<strong>${p.name||'Luogo'}</strong><br>${p.descr||''}`);
      }
    }).addTo(map);
    if (layer.getLayers().length) map.fitBounds(layer.getBounds(), {padding:[20,20]});
  } catch(e) {
    console.error('Errore nel caricamento della mappa', e);
  }
});
</script></body>
</html>
