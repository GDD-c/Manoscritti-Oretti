<!DOCTYPE html>

<html lang="it">
<head>
<meta charset="utf-8"/>
<title>Catalogo - Collezioni Oretti</title>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="Catalogo delle opere e collezioni documentate nei manoscritti di Oretti." name="description"/>
<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,700;1,400&amp;family=Playfair+Display:wght@400;600;700&amp;display=swap" rel="stylesheet"/>
<!-- Custom styles -->
<link href="css/style-base.css" rel="stylesheet"/>
<style>
    body {
      background-color: #f8f1e4;
      color: #222;
      font-family: 'Georgia', serif;
    }

    h1, h2, h3, .navbar-brand {
      font-family: 'Playfair Display', serif;
      color: #3e2d18;
    }

    p, .lead, .text-muted {
      font-family: 'Crimson Text', serif;
      color: #5c3d1e;
    }

    .navbar {
      background-color: #e2d8c3;
    }

    .btn-outline-secondary {
      border-color: #5c3d1e;
      color: #5c3d1e;
    }

    .btn-outline-secondary:hover {
      background-color: #5c3d1e;
      color: #fff;
    }

    .card {
      background-color: #fffaf3;
      border: 1px solid #e2d8c3;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    }

    .card-img-top {
      object-fit: cover;
      height: 200px;
    }

    footer {
      background-color: #f2f0eb;
      color: #333;
    }
  </style>
<link href="css/style-breadcrumb.css" rel="stylesheet"/></head>
<body>
<header class="py-4 bg-white border-bottom"><div class="container"><nav class="breadcrumb mb-3"><a href="index.html">Home</a> › Catalogo</nav><h1 class="display-6">Catalogo</h1></div></header><nav class="navbar navbar-expand-lg navbar-light border-bottom">
<div class="container">
<a class="navbar-brand fw-bold" href="index.html">Oretti Manoscritti</a>
<button class="navbar-toggler" data-bs-target="#navbarNav" data-bs-toggle="collapse" type="button">
<span class="navbar-toggler-icon"></span>
</button>
<div class="collapse navbar-collapse" id="navbarNav">
<ul class="navbar-nav ms-auto">
<li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
<li class="nav-item"><a class="nav-link" href="catalog.html">Catalogo</a></li>
<li class="nav-item"><a class="nav-link" href="autori.html">Autori</a></li>
<li class="nav-item"><a class="nav-link" href="item-manoscritti.html">Manoscritti</a></li>
<li class="nav-item"><a class="nav-link" href="map.html">Mappa</a></li>
<li class="nav-item"><a class="nav-link" href="browse.html">Ricerca</a></li>
</ul>
</div>
</div>
</nav>
<!-- Navbar -->
<!-- Main content -->
<main class="container py-5">
<div class="d-flex flex-wrap align-items-end justify-content-between gap-2 mb-3">
<div>
<h1 class="mb-0">Catalogo delle Risorse</h1>
<p class="text-muted small">Filtra, ordina e cambia vista</p>
</div>
<div class="d-flex flex-wrap gap-2">
<input class="form-control" id="search" placeholder="Cerca per titolo…" type="search"/>
<select aria-label="Filtra per tipologia" class="form-select" id="filter">
<option value="">Tutte le tipologie</option>
<option value="manoscritto">Manoscritti</option>
<option value="autori">Autori</option>
<option value="collezionisti">Collezionisti</option>
<option value="opere">Opere d'arte</option>
<option value="luogo">Luoghi</option>
</select>
<select aria-label="Ordina risultati" class="form-select" id="sort">
<option value="title-asc">Titolo A→Z</option>
<option value="title-desc">Titolo Z→A</option>
</select>
<div aria-label="Cambia vista" class="btn-group" role="group">
<button class="btn btn-outline-secondary active" id="btnGrid" title="Vista griglia">Griglia</button>
<button class="btn btn-outline-secondary" id="btnList" title="Vista lista">Lista</button>
</div>
</div>
</div>
<p aria-live="polite" class="small text-muted mb-3" id="resultCount">—</p>
<div class="row g-4" data-view="grid" id="catalog-grid">
<!-- Risultati dinamici -->
</div>
</main>
<!-- Footer -->
<section class="py-5"><div class="container"><div class="d-flex justify-content-between align-items-center mb-4"><h2>Tutte le opere</h2><div style="min-width:240px;"><input class="form-control" id="filter-input" placeholder="Filtra per titolo..." type="search"/></div></div><div class="row g-4" id="catalog-grid"></div></div></section><footer class="py-4 text-center border-top">
<div class="container">
<p class="mb-0 small">© 2025 - Collezioni d’Arte a Bologna nel XVIII secolo</p>
</div>
</footer>
<!-- Scripts -->
<script defer="" src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script defer="" src="js/catalog.js"></script>
<script>
(async function() {
  try {
    const res = await fetch('data/opere.json', {cache:'no-store'});
    const data = await res.json();
    const grid = document.getElementById('catalog-grid');
    const input = document.getElementById('filter-input');

    function render(items) {
      grid.innerHTML = '';
      items.forEach(op => {
        const col = document.createElement('div');
        col.className = 'col-12 col-sm-6 col-md-4 col-lg-3';
        col.innerHTML = `
          <div class="card h-100">
            <img src="${op.image}" class="card-img-top" alt="${op.title}">
            <div class="card-body d-flex flex-column">
              <h6 class="card-title mb-2">${op.title}</h6>
              <p class="text-muted small mb-3">Opera ${op.id}</p>
              <a href="${op.href}" class="btn btn-outline-dark mt-auto">Apri scheda</a>
            </div>
          </div>`;
        grid.appendChild(col);
      });
    }

    let current = data;
    render(current);

    input.addEventListener('input', e => {
      const q = e.target.value.toLowerCase();
      current = data.filter(op => op.title.toLowerCase().includes(q) || op.id.includes(q));
      render(current);
    });
  } catch(e) {
    console.error(e);
    const grid = document.getElementById('catalog-grid');
    if (grid) grid.innerHTML = '<p class="text-danger">Impossibile caricare il catalogo.</p>';
  }
})();
</script></body>
</html>
